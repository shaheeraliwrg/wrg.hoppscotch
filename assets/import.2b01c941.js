import{l as m,O as y,U as P,a as g}from"./importers.9e06437c.js";import{a as l,c as v,t as M}from"./TaskOption.34a88300.js";import{f as A,E as D,ap as F,p as r,i1 as S,gO as C,o as L,d as N,aa as b,a5 as x,hS as U,h_ as f,e6 as k,i2 as V,e5 as B,i3 as W,hU as q,ea as w,ab as H}from"./index.ffc3bc83.js";import"./json.b4a2b5bb.js";import"./___vite-browser-external_commonjs-proxy.c945fe1b.js";const u=i=>a=>typeof a===i,G=A({__name:"import",setup(i){const a=H(),d=b(),n=x(),p=D(),c="importer_invalid_type",_="importer_invalid_fetch",R=(t,s)=>r(w,B("importer",()=>r(P,W(o=>o.applicableTo.includes("url-import")&&o.id===s),q(()=>c))),V("content",()=>r(t,l(u("string")),v(h),f(()=>_))),U(({importer:o,content:e})=>r(e.data,l(u("string")),f(()=>m),k(T=>o.importer([T])))));F(async()=>{const{query:t}=a,s=t.url,o=t.type,e=await R(s,o)();r(e,S(E,O)),d.replace("/")});const I={[c]:"import.import_from_url_invalid_type",[_]:"import.import_from_url_invalid_fetch",[m]:"import.import_from_url_invalid_file_format",[y]:"import.import_from_url_invalid_file_format"},E=t=>{n.error(p(I[t]).toString())},O=t=>{C(t),n.success(p("import.import_from_url_success").toString())},h=t=>M(()=>g.get(t,{responseType:"text",transitional:{forcedJSONParsing:!1}}));return(t,s)=>(L(),N("div"))}});export{G as default};
//# sourceMappingURL=import.2b01c941.js.map
